<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>delta: Delta Compiler Internals</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">delta
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Delta Compiler Internals </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This document gives a high-level overview of the design and internal details of this reference implementation of the Delta programming language.</p>
<h2>Structure</h2>
<div class="image">
<img src="compiler-structure.png" alt="Delta compiler structure"/>
</div>
<p>The above flowchart shows the path from Delta source code to a binary executable. The blue boxes represent libraries, while the green boxes represent the intermediate data structures those libraries operate on. It consists of the following components:</p>
<ol type="1">
<li>The <b>Parser</b> reads Delta source code from disk, tokenizes and parses it, and builds an AST based on it, reporting any syntax errors it encounters. This step also registers declarations in the symbol table to be used by Sema.</li>
<li>The <b>AST</b> (abstract syntax tree) is an internal representation of the Delta source code. Some identifier references are still unresolved in this initial AST.</li>
<li><b>Sema</b> (semantic analysis) takes the AST, annotates its nodes with type information, and resolves all identifier references. It also reports semantic errors such as type system violations and uses of undeclared identifiers.</li>
<li>The <b>type-checked AST</b> is the result of semantic analysis, an AST with full type information at each node that represents a typed language entity.</li>
<li>Based on the type-checked AST, we can use one of the following to generate native code:<ul>
<li><b>IRGen</b> to first generate <a href="http://llvm.org">LLVM</a> IR (intermediate representation), and then have LLVM generate the machine code for it.</li>
<li><b>CGen</b> (obsolete) to generate (minified) C code, that we can then pass on to any C compiler to handle the machine code generation. </li>
</ul>
</li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
